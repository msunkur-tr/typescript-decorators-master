name: trigger-workflow
on: pull_request

jobs:
  analyze:
    name: Analyze
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install dependencies
        uses: trilogy-group/action-npm-install-dependencies@v1
      - name: Build
        run: npm run build
      - name: read
        run: npx ts-node write-json.ts
  test:
    needs: analyze
    name: Test
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install dependencies
        uses: trilogy-group/action-npm-install-dependencies@v1
      - name: Build
        run: npm run build
      - name: write
        run: npx ts-node read-json.ts
        
  trigger-workflow:
    runs-on: ubuntu-latest
    steps:
      - name: trigger-workflow
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          IGNORED: "**/package.json\n**/package-lock.json"
        run: ls -lah
